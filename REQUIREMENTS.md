# テトリス風ゲーム 要件定義（更新版）

## 1. 概要
- テトリスの基本ルールを踏襲した落ちものパズルゲームを作成する。
- 追加機能としてスコア記録・自己ベスト表示・ユーザーネーム登録・オンライン共有を行う。
- ブロック画像は後から差し替え可能な構造にする。

## 2. ゲーム仕様
### 2.1 ブロック
- 7種類（標準テトロミノ）のみを使用する。
- 将来的に10種類へ拡張できるよう、ブロック形状はデータ定義で管理する。

### 2.2 操作
- 左右移動、回転、ソフトドロップ、ハードドロップを実装する。
- ホールド機能は実装しない。

### 2.3 進行
- ブロックが上から落下し、ラインが揃うと消える。
- 画面上部まで積み上がったらゲームオーバー。
- 落下速度はレベル制にし、進行に応じて加速する。
  - 例: 消去ライン数や経過時間によりレベルアップ。

## 3. スコア仕様
- スコアはライン消し数のみによって加算する。
- コンボやT-Spinなどの追加加点は行わない。
- スコア表示はプレイ中とリザルトで行う。

## 4. ユーザー/スコア記録
- プレイ開始時にユーザーネームを登録する。
- スコア記録にはユーザー名、スコア、日時を保存する。
- 自己ベスト（過去最高）を表示する。
- スコア一覧はトップ5のみ表示する。

## 5. オンライン共有（Firebase）
- Firebase（Firestore）を利用してスコアを共有する。
- 共有範囲は「URLを知っている人だけ」に限定する。
  - 想定方法: 特定のURLでアプリを共有し、同一プロジェクトのFirestoreに書き込む。
  - セキュリティルールは、想定する共有範囲内の書き込みのみ許可する。

## 6. 画像差し替え
- ブロックごとに画像（PNG/JPG等）を割り当てられる。
- 画像未設定時は単色ブロックを表示する。
- 回転・移動時に画像が追従する。

## 7. UI構成（概要）
- タイトル画面: ユーザーネーム入力、開始ボタン、自己ベスト表示。
- ゲーム画面: フィールド、次ブロック、スコア表示、ユーザー名表示。
- リザルト画面: 最終スコア、自己ベスト更新通知。
- スコア一覧画面: トップ5のスコア表示。

## 8. 今後の詳細化ポイント
- レベルアップの具体条件（ライン数 or 時間）。
- Firebaseの認証方式・セキュリティルールの具体設計。
- 画像アセットの差し替え方法（管理画面 or ローカル差し替え）。
